<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaunchPad Pro | The Founder's OS</title>
    
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <style>
        /* --- CORE VARIABLES --- */
        :root {
            --primary: #6366f1; /* Indigo 500 */
            --primary-hover: #4f46e5;
            --bg-body: #f3f4f6;
            --bg-card: #ffffff;
            --text-main: #111827;
            --text-muted: #6b7280;
            --border: #e5e7eb;
            --radius-sm: 6px;
            --radius-lg: 12px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --font-main: 'Inter', system-ui, -apple-system, sans-serif;
        }

        /* --- GLOBAL RESET --- */
        * { box-sizing: border-box; outline: none; }
        body { margin: 0; padding: 0; font-family: var(--font-main); background: var(--bg-body); color: var(--text-main); display: flex; height: 100vh; overflow: hidden; }
        
        /* --- LAYOUT --- */
        aside {
            width: 280px; background: #ffffff; border-right: 1px solid var(--border);
            display: flex; flex-direction: column; z-index: 20;
        }
        
        main { flex: 1; overflow-y: auto; position: relative; scroll-behavior: smooth; }

        /* --- SIDEBAR --- */
        .brand-header { padding: 1.5rem; display: flex; align-items: center; gap: 0.75rem; border-bottom: 1px solid var(--border); }
        .brand-logo { width: 32px; height: 32px; background: var(--primary); border-radius: 8px; display: grid; place-items: center; color: white; font-weight: bold; }
        .brand-name { font-weight: 700; font-size: 1.1rem; letter-spacing: -0.02em; }

        .nav-links { padding: 1rem; flex: 1; }
        .nav-item {
            display: flex; align-items: center; gap: 0.75rem; width: 100%; padding: 0.75rem 1rem;
            margin-bottom: 0.25rem; border: none; background: transparent; color: var(--text-muted);
            font-weight: 500; cursor: pointer; border-radius: var(--radius-sm); transition: all 0.2s;
            text-align: left; font-size: 0.95rem;
        }
        .nav-item:hover { background: #f9fafb; color: var(--primary); }
        .nav-item.active { background: #eef2ff; color: var(--primary); font-weight: 600; }
        .nav-item i { font-size: 1.2rem; }

        /* --- CONTENT AREAS --- */
        .view-section { display: none; padding: 2rem; max-width: 1400px; margin: 0 auto; animation: fadeUp 0.4s ease; }
        .view-section.active { display: block; }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        h1 { font-size: 1.875rem; font-weight: 700; margin: 0 0 0.5rem 0; letter-spacing: -0.025em; }
        p.desc { color: var(--text-muted); margin-bottom: 2rem; max-width: 600px; line-height: 1.5; }

        /* --- COMPONENTS --- */
        .card { background: var(--bg-card); border-radius: var(--radius-lg); padding: 1.5rem; border: 1px solid var(--border); box-shadow: var(--shadow); margin-bottom: 1.5rem; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; }
        
        label { display: block; font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem; color: #374151; }
        input, select, textarea {
            width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius-sm);
            font-size: 0.95rem; transition: border 0.2s, box-shadow 0.2s; background: #fff;
        }
        input:focus, select:focus, textarea:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15); }
        
        .btn {
            display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem;
            padding: 0.75rem 1.5rem; background: var(--primary); color: white; border: none;
            border-radius: var(--radius-sm); font-weight: 600; cursor: pointer; transition: transform 0.1s, background 0.2s;
        }
        .btn:hover { background: var(--primary-hover); transform: translateY(-1px); }
        .btn:active { transform: translateY(0); }
        .btn-secondary { background: white; border: 1px solid var(--border); color: var(--text-main); }
        .btn-secondary:hover { background: #f9fafb; border-color: #d1d5db; }
        .btn-danger { background: #fee2e2; color: #b91c1c; }
        .btn-danger:hover { background: #fecaca; }

        /* --- SPECIFIC: BUILDER UI --- */
        .builder-container { display: flex; height: calc(100vh - 140px); gap: 1rem; }
        .builder-controls { width: 320px; overflow-y: auto; padding-right: 0.5rem; }
        .builder-preview { flex: 1; background: #e5e7eb; border-radius: var(--radius-lg); border: 4px solid #374151; position: relative; overflow: hidden; }
        .preview-iframe { width: 100%; height: 100%; border: none; background: white; }
        
        .control-group { background: white; border: 1px solid var(--border); border-radius: var(--radius-sm); margin-bottom: 1rem; overflow: hidden; }
        .control-header { padding: 1rem; background: #f9fafb; border-bottom: 1px solid var(--border); font-weight: 600; display: flex; justify-content: space-between; align-items: center; cursor: pointer;}
        .control-body { padding: 1rem; display: none; }
        .control-body.open { display: block; }
        
        .block-card { 
            padding: 0.75rem; border: 1px dashed var(--border); border-radius: var(--radius-sm); 
            margin-bottom: 0.5rem; cursor: move; background: #fff; display: flex; align-items: center; justify-content: space-between;
        }
        .block-card:hover { border-color: var(--primary); background: #eef2ff; }

        /* --- SPECIFIC: NAMES --- */
        .name-chip {
            background: white; border: 1px solid var(--border); padding: 1rem; border-radius: var(--radius-sm);
            display: flex; justify-content: space-between; align-items: center;
        }
        .name-chip .avail-tag { font-size: 0.7rem; font-weight: 700; text-transform: uppercase; color: #10b981; background: #ecfdf5; padding: 2px 6px; border-radius: 4px; }
        
        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            body { flex-direction: column; overflow: auto; }
            aside { width: 100%; height: auto; flex-direction: row; align-items: center; justify-content: space-between; padding: 0.5rem; }
            .nav-links { display: flex; overflow-x: auto; gap: 0.5rem; padding: 0; }
            .nav-item { width: auto; white-space: nowrap; margin: 0; }
            .builder-container { flex-direction: column; height: auto; }
            .builder-controls { width: 100%; }
            .builder-preview { height: 500px; }
        }
    </style>
</head>
<body>

    <aside>
        <div class="brand-header">
            <div class="brand-logo">LP</div>
            <div class="brand-name">LaunchPad</div>
        </div>
        <nav class="nav-links">
            <button class="nav-item active" onclick="app.router('profile')">
                <i class="ph ph-user-circle"></i> Profile
            </button>
            <button class="nav-item" onclick="app.router('names')">
                <i class="ph ph-lightbulb"></i> Branding
            </button>
            <button class="nav-item" onclick="app.router('strategy')">
                <i class="ph ph-strategy"></i> Strategy
            </button>
            <button class="nav-item" onclick="app.router('builder')">
                <i class="ph ph-monitor"></i> Web Builder
            </button>
        </nav>
    </aside>

    <main>
        
        <div id="view-profile" class="view-section active">
            <h1>Business Identity</h1>
            <p class="desc">Define the core DNA of your business. The AI engine uses this data to generate everything else.</p>
            
            <div class="card">
                <div class="grid-2">
                    <div class="form-group">
                        <label>Business Type / Industry</label>
                        <select id="inp-industry" onchange="app.saveData()">
                            <option value="food">Food & Beverage (Traditional/Modern)</option>
                            <option value="tech">SaaS / Technology</option>
                            <option value="service">Freelance Service / Agency</option>
                            <option value="fashion">Fashion & Lifestyle</option>
                            <option value="health">Health & Wellness</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Core Keyword (e.g., Brownie, Code, Yoga)</label>
                        <input type="text" id="inp-keyword" placeholder="e.g., Brownie" oninput="app.saveData()">
                    </div>
                </div>
                <br>
                <div class="form-group">
                    <label>Unique Selling Proposition (USP)</label>
                    <input type="text" id="inp-usp" placeholder="e.g., Traditional Kelveragu made modern and healthy" oninput="app.saveData()">
                </div>
                <br>
                <div class="form-group">
                    <label>Detailed Description</label>
                    <textarea id="inp-desc" rows="4" placeholder="Describe your product, your goals, and your vibe..." oninput="app.saveData()"></textarea>
                </div>
                <br>
                <div class="form-group">
                    <label>Target Audience</label>
                    <input type="text" id="inp-audience" placeholder="e.g., Health conscious millennials in metro cities" oninput="app.saveData()">
                </div>
            </div>
            
            <div style="display: flex; justify-content: flex-end;">
                <button class="btn" onclick="app.router('names')">Next: Branding <i class="ph ph-arrow-right"></i></button>
            </div>
        </div>

        <div id="view-names" class="view-section">
            <h1>Identity Generator</h1>
            <p class="desc">Smart phonetic mixing to create brandable names.</p>

            <div class="card">
                <div class="grid-2">
                    <button class="btn" onclick="modules.names.generate()">Generate New Ideas</button>
                    <div style="text-align: right; color: var(--text-muted); font-size: 0.9rem; align-self: center;">
                        Click name to use in Website Builder
                    </div>
                </div>
                <br>
                <div class="grid-3" id="name-grid">
                    </div>
            </div>
        </div>

        <div id="view-strategy" class="view-section">
            <h1>Strategic Analysis</h1>
            <p class="desc">A simulated competitor analysis and SWOT framework based on your industry inputs.</p>

            <button class="btn" onclick="modules.strategy.generate()">Run Analysis</button>
            <br><br>

            <div id="strategy-output" style="display:none;">
                <div class="card">
                    <h3 style="margin-bottom: 1rem;"><i class="ph ph-users"></i> Competitor Archetypes</h3>
                    <p style="color:var(--text-muted); margin-bottom:1rem;">Based on your industry, these are your likely competitors:</p>
                    <div class="grid-3" id="comp-grid"></div>
                </div>

                <div class="grid-2">
                    <div class="card" style="border-left: 4px solid #10b981;">
                        <h3>Strengths (Internal)</h3>
                        <ul id="swot-s" style="padding-left: 1.2rem; margin-top: 0.5rem; line-height: 1.6;"></ul>
                    </div>
                    <div class="card" style="border-left: 4px solid #ef4444;">
                        <h3>Weaknesses (Internal)</h3>
                        <ul id="swot-w" style="padding-left: 1.2rem; margin-top: 0.5rem; line-height: 1.6;"></ul>
                    </div>
                    <div class="card" style="border-left: 4px solid #3b82f6;">
                        <h3>Opportunities (External)</h3>
                        <ul id="swot-o" style="padding-left: 1.2rem; margin-top: 0.5rem; line-height: 1.6;"></ul>
                    </div>
                    <div class="card" style="border-left: 4px solid #f59e0b;">
                        <h3>Threats (External)</h3>
                        <ul id="swot-t" style="padding-left: 1.2rem; margin-top: 0.5rem; line-height: 1.6;"></ul>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-builder" class="view-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <div>
                    <h1>Website Builder</h1>
                    <p class="desc" style="margin:0;">Drag & drop components. Live Preview. Export HTML.</p>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button class="btn btn-secondary" onclick="modules.builder.refreshPreview()"><i class="ph ph-arrows-clockwise"></i> Refresh</button>
                    <button class="btn" onclick="modules.builder.exportSite()"><i class="ph ph-download-simple"></i> Export Website</button>
                </div>
            </div>

            <div class="builder-container">
                <div class="builder-controls">
                    
                    <div class="control-group">
                        <div class="control-header" onclick="this.nextElementSibling.classList.toggle('open')">
                            üé® Theme & Colors <i class="ph ph-caret-down"></i>
                        </div>
                        <div class="control-body open">
                            <label>Primary Color</label>
                            <input type="color" id="site-color" value="#4f46e5" style="height: 40px; margin-bottom: 1rem;" onchange="modules.builder.refreshPreview()">
                            
                            <label>Font Style</label>
                            <select id="site-font" onchange="modules.builder.refreshPreview()">
                                <option value="'Inter', sans-serif">Modern (Inter)</option>
                                <option value="'Playfair Display', serif">Elegant (Serif)</option>
                                <option value="'Courier New', monospace">Tech (Monospace)</option>
                            </select>
                        </div>
                    </div>

                    <div class="control-group">
                        <div class="control-header" onclick="this.nextElementSibling.classList.toggle('open')">
                            ‚ûï Add Section <i class="ph ph-caret-down"></i>
                        </div>
                        <div class="control-body open">
                            <div style="display: grid; gap: 0.5rem;">
                                <button class="btn btn-secondary" onclick="modules.builder.addSection('hero')">Hero Header</button>
                                <button class="btn btn-secondary" onclick="modules.builder.addSection('features')">Features Grid</button>
                                <button class="btn btn-secondary" onclick="modules.builder.addSection('about')">About Us</button>
                                <button class="btn btn-secondary" onclick="modules.builder.addSection('gallery')">Gallery</button>
                                <button class="btn btn-secondary" onclick="modules.builder.addSection('cta')">Call to Action</button>
                                <button class="btn btn-secondary" onclick="modules.builder.addSection('contact')">Contact Form</button>
                            </div>
                        </div>
                    </div>

                    <div class="control-group">
                        <div class="control-header" onclick="this.nextElementSibling.classList.toggle('open')">
                            üìù Manage Content <i class="ph ph-caret-down"></i>
                        </div>
                        <div class="control-body open" id="section-list">
                            </div>
                    </div>

                </div>

                <div class="builder-preview">
                    <iframe id="preview-frame" class="preview-iframe"></iframe>
                </div>
            </div>
        </div>

    </main>

    <script>
        // --- CORE STATE ---
        const state = {
            profile: {
                industry: 'food',
                keyword: '',
                usp: '',
                desc: '',
                audience: '',
                brandName: 'MyBrand'
            },
            builder: {
                color: '#4f46e5',
                font: "'Inter', sans-serif",
                sections: [
                    { id: '1', type: 'hero', title: 'Welcome to Future', subtitle: 'The best products for you.', btn: 'Get Started' },
                    { id: '2', type: 'features', title: 'Why Choose Us?', items: ['Quality', 'Speed', 'Support'] }
                ]
            }
        };

        // --- APP CONTROLLER ---
        const app = {
            init: () => {
                // Load from local storage
                const saved = localStorage.getItem('launchPadData');
                if (saved) {
                    const parsed = JSON.parse(saved);
                    state.profile = parsed.profile || state.profile;
                    state.builder = parsed.builder || state.builder;
                }
                
                // Populate inputs
                document.getElementById('inp-industry').value = state.profile.industry;
                document.getElementById('inp-keyword').value = state.profile.keyword;
                document.getElementById('inp-usp').value = state.profile.usp;
                document.getElementById('inp-desc').value = state.profile.desc;
                document.getElementById('inp-audience').value = state.profile.audience;

                // Initial render
                modules.builder.renderSectionList();
                modules.builder.refreshPreview();
            },

            router: (viewId) => {
                document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
                document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
                
                document.getElementById(`view-${viewId}`).classList.add('active');
                // Highlight button logic would go here if strict index tracking needed
            },

            saveData: () => {
                state.profile.industry = document.getElementById('inp-industry').value;
                state.profile.keyword = document.getElementById('inp-keyword').value;
                state.profile.usp = document.getElementById('inp-usp').value;
                state.profile.desc = document.getElementById('inp-desc').value;
                state.profile.audience = document.getElementById('inp-audience').value;
                
                localStorage.setItem('launchPadData', JSON.stringify(state));
                // Update preview if builder is visible
                modules.builder.refreshPreview();
            }
        };

        // --- MODULES ---
        const modules = {
            
            // 1. BRANDING MODULE
            names: {
                generate: () => {
                    const k = state.profile.keyword.replace(/\s/g, '') || "Brand";
                    const industry = state.profile.industry;
                    
                    const prefixes = ['The', 'My', 'Go', 'Up', 'Neo', 'Pro', 'Zen', 'Nova', 'Hyper'];
                    const suffixes = ['ify', 'ly', 'hub', 'lab', 'box', 'io', 'hq', 'works', 'base'];
                    
                    // Industry specific logic
                    let extras = [];
                    if(industry === 'food') extras = ['Eats', 'Bites', 'Kitchen', 'Table', 'Bowl', 'Fresh', 'Pure'];
                    if(industry === 'tech') extras = ['Sys', 'Net', 'Soft', 'Data', 'Code', 'Stack', 'Flow'];
                    if(industry === 'fashion') extras = ['Style', 'Wear', 'Look', 'Mode', 'Vogue', 'Thread'];
                    
                    let results = [];

                    // Strategy 1: Suffix
                    for(let i=0; i<3; i++) results.push(k + suffixes[Math.floor(Math.random()*suffixes.length)]);
                    
                    // Strategy 2: Prefix
                    for(let i=0; i<3; i++) results.push(prefixes[Math.floor(Math.random()*prefixes.length)] + k);
                    
                    // Strategy 3: Compound (Keyword + Industry Word)
                    if(extras.length) {
                        for(let i=0; i<3; i++) results.push(k + extras[Math.floor(Math.random()*extras.length)]);
                    }
                    
                    // Strategy 4: Portmanteau (Simple Slice)
                    if(extras.length) {
                         const extra = extras[Math.floor(Math.random()*extras.length)];
                         results.push(k.substring(0, 3) + extra.substring(1)); // e.g. Bro + ites
                    }

                    // Render
                    const grid = document.getElementById('name-grid');
                    grid.innerHTML = '';
                    results.slice(0, 9).forEach(name => {
                        const div = document.createElement('div');
                        div.className = 'name-chip';
                        div.innerHTML = `
                            <strong>${name}</strong>
                            <span class="avail-tag">Available</span>
                        `;
                        div.onclick = () => {
                            state.profile.brandName = name;
                            alert(`Brand name set to: ${name}. Updating website...`);
                            modules.builder.refreshPreview();
                        }
                        grid.appendChild(div);
                    });
                }
            },

            // 2. STRATEGY MODULE
            strategy: {
                generate: () => {
                    const ind = state.profile.industry;
                    const key = state.profile.keyword;

                    // Competitors Logic
                    let comps = [];
                    if(ind === 'food') comps = [
                        {name: "The Big Chain", desc: "Mass produced, cheap, unhealthy."},
                        {name: "The Fancy Organic", desc: "Overpriced, niche market."},
                        {name: "Homemade Hero", desc: "Local seller, limited scale."}
                    ];
                    else if(ind === 'tech') comps = [
                        {name: "Legacy Giant", desc: "Old features, hard to use, expensive."},
                        {name: "Open Source", desc: "Free but hard to set up."},
                        {name: "Niche Startup", desc: "Good UI but missing features."}
                    ];
                    else comps = [
                        {name: "Established Player", desc: "High trust, high price."},
                        {name: "Low Cost Option", desc: "Poor quality, fast service."}
                    ];

                    const compGrid = document.getElementById('comp-grid');
                    compGrid.innerHTML = '';
                    comps.forEach(c => {
                        compGrid.innerHTML += `
                            <div style="background:#f9fafb; padding:1rem; border-radius:8px;">
                                <strong>${c.name}</strong>
                                <p style="font-size:0.85rem; margin-top:0.5rem;">${c.desc}</p>
                            </div>
                        `;
                    });

                    // SWOT Logic
                    const s = document.getElementById('swot-s');
                    const w = document.getElementById('swot-w');
                    const o = document.getElementById('swot-o');
                    const t = document.getElementById('swot-t');
                    
                    s.innerHTML = `<li>Your Unique USP: ${state.profile.usp}</li><li>Agile and modern approach</li><li>Personalized customer care</li>`;
                    w.innerHTML = `<li>Limited initial brand recognition</li><li>Smaller budget than competitors</li><li>Resource constraints</li>`;
                    o.innerHTML = `<li>Growing demand for ${key}</li><li>Digital marketing expansion</li><li>Partnerships with local vendors</li>`;
                    t.innerHTML = `<li>Competitors copying your USP</li><li>Rising material costs</li><li>Platform dependency</li>`;

                    document.getElementById('strategy-output').style.display = 'block';
                }
            },

            // 3. WEBSITE BUILDER (The Beast)
            builder: {
                addSection: (type) => {
                    const newId = Date.now().toString();
                    let newSection = { id: newId, type: type };
                    
                    // Default Data
                    if(type === 'hero') { newSection.title = "Transform Your Life"; newSection.subtitle = state.profile.desc || "We provide the best solution."; newSection.btn = "Get Started"; }
                    if(type === 'features') { newSection.title = "Our Features"; newSection.items = ["Premium Quality", "24/7 Support", "Affordable Prices"]; }
                    if(type === 'about') { newSection.title = "About Us"; newSection.text = `At ${state.profile.brandName}, we are dedicated to ${state.profile.usp}.`; }
                    if(type === 'gallery') { newSection.title = "Gallery"; newSection.images = [1,2,3]; } // Placeholders
                    if(type === 'cta') { newSection.title = "Ready to Start?"; newSection.btn = "Join Now"; }
                    if(type === 'contact') { newSection.title = "Contact Us"; newSection.email = "hello@example.com"; }

                    state.builder.sections.push(newSection);
                    modules.builder.renderSectionList();
                    modules.builder.refreshPreview();
                },

                removeSection: (id) => {
                    state.builder.sections = state.builder.sections.filter(s => s.id !== id);
                    modules.builder.renderSectionList();
                    modules.builder.refreshPreview();
                },

                renderSectionList: () => {
                    const list = document.getElementById('section-list');
                    list.innerHTML = '';
                    state.builder.sections.forEach((s, index) => {
                        const div = document.createElement('div');
                        div.className = 'block-card';
                        div.innerHTML = `
                            <span><strong>${index + 1}.</strong> ${s.type.toUpperCase()} - ${s.title.substring(0,15)}...</span>
                            <button onclick="modules.builder.removeSection('${s.id}')" style="color:red; background:none; border:none; cursor:pointer;">&times;</button>
                        `;
                        list.appendChild(div);
                    });
                },

                // THE RENDER ENGINE
                generateHTML: () => {
                    const sectionsHTML = state.builder.sections.map(s => {
                        // Templates
                        if(s.type === 'hero') return `
                            <section style="padding: 80px 20px; text-align: center; background: ${state.builder.color}; color: white;">
                                <h1 style="font-size: 3.5rem; margin-bottom: 20px; line-height: 1.2;">${s.title}</h1>
                                <p style="font-size: 1.25rem; margin-bottom: 30px; opacity: 0.9;">${s.subtitle}</p>
                                <a href="#" style="background: white; color: ${state.builder.color}; padding: 12px 30px; text-decoration: none; border-radius: 5px; font-weight: bold; display: inline-block;">${s.btn}</a>
                            </section>`;
                        
                        if(s.type === 'features') return `
                            <section style="padding: 60px 20px; max-width: 1100px; margin: 0 auto;">
                                <h2 style="text-align: center; margin-bottom: 40px; color: #333; font-size: 2rem;">${s.title}</h2>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px;">
                                    ${s.items.map(i => `
                                        <div style="padding: 30px; background: white; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); text-align: center; border: 1px solid #eee;">
                                            <h3 style="color: ${state.builder.color}; margin-bottom: 10px;">${i}</h3>
                                            <p style="color: #666;">Experience the best with our top-tier service designed for you.</p>
                                        </div>
                                    `).join('')}
                                </div>
                            </section>`;
                        
                        if(s.type === 'about') return `
                            <section style="padding: 60px 20px; background: #f9fafb; display: flex; align-items: center; justify-content: center;">
                                <div style="max-width: 800px; text-align: center;">
                                    <h2 style="font-size: 2.5rem; margin-bottom: 20px; color: #333;">${s.title}</h2>
                                    <p style="font-size: 1.1rem; line-height: 1.8; color: #555;">${s.text}</p>
                                </div>
                            </section>`;

                        if(s.type === 'gallery') return `
                            <section style="padding: 60px 20px;">
                                <h2 style="text-align: center; margin-bottom: 40px;">${s.title}</h2>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                                    <img src="https://placehold.co/400x300/EEE/31343C" style="width:100%; border-radius:8px;">
                                    <img src="https://placehold.co/400x300/EEE/31343C" style="width:100%; border-radius:8px;">
                                    <img src="https://placehold.co/400x300/EEE/31343C" style="width:100%; border-radius:8px;">
                                </div>
                            </section>`;

                        if(s.type === 'cta') return `
                            <section style="padding: 80px 20px; text-align: center; background: #111827; color: white;">
                                <h2 style="font-size: 2.5rem; margin-bottom: 20px;">${s.title}</h2>
                                <a href="#" style="background: ${state.builder.color}; color: white; padding: 15px 40px; text-decoration: none; border-radius: 5px; font-weight: bold; font-size: 1.1rem; display: inline-block;">${s.btn}</a>
                            </section>`;
                        
                        if(s.type === 'contact') return `
                            <section style="padding: 60px 20px; max-width: 600px; margin: 0 auto; text-align: center;">
                                <h2>${s.title}</h2>
                                <p>Email us at: <strong>${s.email}</strong></p>
                                <form style="margin-top: 20px; display: flex; flex-direction: column; gap: 10px;">
                                    <input type="text" placeholder="Name" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <input type="email" placeholder="Email" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <textarea rows="4" placeholder="Message" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px;"></textarea>
                                    <button style="background: ${state.builder.color}; color: white; border: none; padding: 10px; border-radius: 4px; cursor: pointer;">Send</button>
                                </form>
                            </section>`;

                    }).join('');

                    // Full Document Wrapper
                    return `
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${state.profile.brandName} - Official Site</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: ${state.builder.font}; line-height: 1.6; color: #1f2937; }
        nav { padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; }
        .logo { font-weight: 800; font-size: 1.5rem; color: ${state.builder.color}; text-decoration: none; }
    </style>
</head>
<body>
    <nav>
        <a href="#" class="logo">${state.profile.brandName}</a>
        <div>
            <a href="#" style="color: #666; text-decoration: none; margin-left: 20px;">Home</a>
            <a href="#" style="color: #666; text-decoration: none; margin-left: 20px;">Contact</a>
        </div>
    </nav>
    ${sectionsHTML}
    <footer style="padding: 40px; text-align: center; font-size: 0.9rem; color: #666; border-top: 1px solid #eee;">
        &copy; ${new Date().getFullYear()} ${state.profile.brandName}. All rights reserved.
    </footer>
</body>
</html>`;
                },

                refreshPreview: () => {
                    state.builder.color = document.getElementById('site-color').value;
                    state.builder.font = document.getElementById('site-font').value;
                    
                    const html = modules.builder.generateHTML();
                    const iframe = document.getElementById('preview-frame');
                    iframe.srcdoc = html;
                },

                exportSite: () => {
                    const html = modules.builder.generateHTML();
                    const blob = new Blob([html], { type: 'text/html' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `${state.profile.brandName.replace(/\s+/g, '-').toLowerCase()}-site.html`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                }
            }
        };

        // Initialize App
        window.onload = app.init;

    </script>
</body>
</html>
