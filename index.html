<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrandForge Pro | Ultimate Founder Suite</title>
    
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@500;700;800&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
    
    <style>
        /* --- DESIGN TOKENS --- */
        :root {
            --bg-app: #0f172a;       /* Slate 950 */
            --bg-panel: #1e293b;     /* Slate 900 */
            --bg-canvas: #334155;    /* Slate 700 */
            --border: #334155;
            --primary: #6366f1;      /* Indigo 500 */
            --primary-hover: #4f46e5;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --radius: 6px;
            --font-ui: 'Inter', sans-serif;
        }

        /* --- RESET --- */
        * { box-sizing: border-box; outline: none; }
        body { margin: 0; background: var(--bg-app); color: var(--text-main); font-family: var(--font-ui); height: 100vh; display: flex; overflow: hidden; }
        
        /* --- LAYOUT --- */
        .app-shell { display: flex; width: 100%; height: 100%; }
        
        /* SIDEBAR (Navigation) */
        aside { width: 260px; background: var(--bg-panel); border-right: 1px solid var(--border); display: flex; flex-direction: column; z-index: 20; flex-shrink: 0; }
        .brand-header { padding: 20px; font-family: 'Outfit', sans-serif; font-size: 1.25rem; font-weight: 800; border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 8px; }
        .nav-links { padding: 10px; flex: 1; overflow-y: auto; }
        .nav-btn {
            display: flex; align-items: center; gap: 12px; padding: 12px; width: 100%; text-align: left;
            background: transparent; border: none; color: var(--text-muted); cursor: pointer; border-radius: var(--radius);
            margin-bottom: 4px; font-weight: 500; transition: 0.2s;
        }
        .nav-btn:hover { background: rgba(255,255,255,0.05); color: white; }
        .nav-btn.active { background: var(--primary); color: white; }

        /* MAIN AREA */
        main { flex: 1; display: flex; flex-direction: column; position: relative; overflow: hidden; }
        .view { display: none; padding: 40px; overflow-y: auto; height: 100%; max-width: 1200px; margin: 0 auto; width: 100%; }
        .view.active { display: block; }

        /* --- COMPONENT STYLES --- */
        .card { background: var(--bg-panel); border: 1px solid var(--border); border-radius: 12px; padding: 24px; margin-bottom: 20px; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        
        label { display: block; font-size: 0.85rem; color: var(--text-muted); margin-bottom: 8px; font-weight: 600; }
        input, select, textarea {
            width: 100%; background: var(--bg-app); border: 1px solid var(--border); color: white;
            padding: 10px; border-radius: var(--radius); font-size: 0.95rem; font-family: var(--font-ui);
        }
        input:focus { border-color: var(--primary); }
        
        .btn { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: var(--radius); cursor: pointer; font-weight: 600; display: inline-flex; align-items: center; gap: 8px; }
        .btn:hover { background: var(--primary-hover); }

        /* --- NAME GENERATOR --- */
        .name-card {
            background: rgba(255,255,255,0.03); border: 1px solid var(--border); padding: 15px; border-radius: 8px;
            display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: 0.2s;
        }
        .name-card:hover { border-color: var(--primary); background: rgba(99, 102, 241, 0.1); }
        .name-card.selected { border: 2px solid var(--primary); background: rgba(99, 102, 241, 0.2); }
        .name-main { font-family: 'Outfit', sans-serif; font-size: 1.2rem; font-weight: 700; }

        /* --- BUILDER UI (Figma/Webflow Style) --- */
        .builder-container { display: flex; width: 100%; height: 100%; background: #0f172a; }
        
        /* Builder Toolbar (Top) */
        .b-toolbar {
            height: 50px; border-bottom: 1px solid var(--border); background: var(--bg-panel); 
            display: flex; align-items: center; justify-content: space-between; padding: 0 20px; width: 100%;
        }

        /* Builder Sidebar (Left - Add Blocks) */
        .b-sidebar-left { width: 240px; background: var(--bg-panel); border-right: 1px solid var(--border); display: flex; flex-direction: column; }
        .block-btn {
            padding: 10px; margin: 5px 10px; background: rgba(255,255,255,0.03); border: 1px solid var(--border);
            border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: #cbd5e1;
        }
        .block-btn:hover { background: rgba(255,255,255,0.08); color: white; border-color: var(--text-muted); }

        /* Builder Canvas (Center) */
        .b-canvas-wrapper { flex: 1; background: #334155; position: relative; overflow: hidden; display: flex; flex-direction: column; }
        .b-viewport { flex: 1; overflow-y: auto; padding: 40px; display: flex; justify-content: center; }
        
        /* The Website Frame */
        .website-frame {
            background: white; width: 100%; max-width: 1200px; min-height: 800px; 
            box-shadow: 0 0 50px rgba(0,0,0,0.5); transition: width 0.3s;
            display: flex; flex-direction: column;
        }
        .website-frame.mobile { max-width: 375px; }

        /* Builder Inspector (Right - Settings) */
        .b-sidebar-right { width: 280px; background: var(--bg-panel); border-left: 1px solid var(--border); display: flex; flex-direction: column; }
        .prop-group { padding: 15px; border-bottom: 1px solid var(--border); }
        .prop-title { font-size: 0.75rem; font-weight: 700; color: var(--text-muted); text-transform: uppercase; margin-bottom: 10px; }

        /* --- EDITABLE BLOCKS --- */
        .w-section { position: relative; border: 2px solid transparent; transition: 0.2s; }
        .w-section:hover { border-color: var(--primary); }
        .w-section.selected { border-color: #22d3ee; } /* Cyan selection */
        
        /* Edit Handles */
        .w-handles { 
            position: absolute; top: 0; right: 0; background: var(--primary); color: white; 
            display: none; padding: 4px; z-index: 10; font-size: 12px; gap: 5px;
        }
        .w-section:hover .w-handles { display: flex; }
        .handle-btn { cursor: pointer; padding: 2px 6px; background: rgba(0,0,0,0.2); border-radius: 4px; }

        /* Content Editable */
        [contenteditable]:focus { outline: 2px solid var(--primary); background: rgba(99,102,241,0.1); }
        [contenteditable]:empty:before { content: attr(placeholder); color: #aaa; }

    </style>
</head>
<body>

<input type="file" id="img-uploader" accept="image/*" style="display:none;">

<div class="app-shell">
    
    <aside>
        <div class="brand-header"><i class="ph-fill ph-fire"></i> BrandForge</div>
        <div class="nav-links">
            <button class="nav-btn active" onclick="App.route('profile')"><i class="ph ph-user"></i> Profile</button>
            <button class="nav-btn" onclick="App.route('names')"><i class="ph ph-tag"></i> Branding</button>
            <button class="nav-btn" onclick="App.route('builder')"><i class="ph ph-desktop"></i> Site Builder</button>
        </div>
    </aside>

    <main>
        
        <div id="view-profile" class="view active">
            <h1>Business DNA</h1>
            <p style="color:var(--text-muted); margin-bottom:30px;">Define your business to power the semantic engines.</p>
            
            <div class="card" style="max-width:800px;">
                <div class="grid-2">
                    <div>
                        <label>Industry</label>
                        <select id="inp-industry">
                            <option value="food">Food & Beverage</option>
                            <option value="tech">Technology / SaaS</option>
                            <option value="fashion">Fashion & Lifestyle</option>
                            <option value="health">Health & Wellness</option>
                        </select>
                    </div>
                    <div>
                        <label>Primary Keyword</label>
                        <input type="text" id="inp-keyword" placeholder="e.g. Brownie, Code, Silk">
                    </div>
                </div>
                <br>
                <label>Business Description</label>
                <textarea id="inp-desc" rows="4" placeholder="e.g. Traditional kelveragu brownies with a modern twist..."></textarea>
                <br>
                <button class="btn" onclick="App.saveProfile()">Save & Continue <i class="ph ph-arrow-right"></i></button>
            </div>
        </div>

        <div id="view-names" class="view">
            <h1>Semantic Naming</h1>
            <p style="color:var(--text-muted); margin-bottom:30px;">Generates unique, meaning-based names, not just random combinations.</p>
            
            <div class="card">
                <div class="grid-2" style="align-items:end; margin-bottom:20px;">
                    <div>
                        <label>Vibe</label>
                        <select id="inp-vibe">
                            <option value="premium">Premium & Luxury</option>
                            <option value="modern">Modern & Minimal</option>
                            <option value="friendly">Friendly & Warm</option>
                        </select>
                    </div>
                    <button class="btn" onclick="Modules.Branding.generate()">Generate Names</button>
                </div>
                <div id="name-grid" class="grid-2"></div>
            </div>
        </div>

        <div id="view-builder" style="display:none; height:100%; width:100%; padding:0; background:#0f172a;">
            <div class="builder-container">
                
                <div class="b-sidebar-left">
                    <div style="padding:15px; font-weight:700; border-bottom:1px solid var(--border);">Components</div>
                    <div style="padding:10px; overflow-y:auto;">
                        <div class="block-btn" onclick="Modules.Builder.add('hero')"><i class="ph ph-image"></i> Hero Header</div>
                        <div class="block-btn" onclick="Modules.Builder.add('features')"><i class="ph ph-squares-four"></i> Features</div>
                        <div class="block-btn" onclick="Modules.Builder.add('gallery')"><i class="ph ph-images"></i> Gallery</div>
                        <div class="block-btn" onclick="Modules.Builder.add('text')"><i class="ph ph-text-t"></i> Text Block</div>
                        <div class="block-btn" onclick="Modules.Builder.add('cta')"><i class="ph ph-megaphone"></i> Call to Action</div>
                        <div class="block-btn" onclick="Modules.Builder.add('footer')"><i class="ph ph-layout"></i> Footer</div>
                    </div>
                </div>

                <div class="b-canvas-wrapper">
                    <div class="b-toolbar">
                        <div style="display:flex; gap:10px;">
                            <button class="btn" style="background:transparent; border:1px solid var(--border); padding:5px 10px;" onclick="Modules.Builder.setDevice('desktop')"><i class="ph ph-desktop"></i></button>
                            <button class="btn" style="background:transparent; border:1px solid var(--border); padding:5px 10px;" onclick="Modules.Builder.setDevice('mobile')"><i class="ph ph-device-mobile"></i></button>
                        </div>
                        <button class="btn" onclick="Modules.Builder.exportSite()">Export HTML <i class="ph ph-export"></i></button>
                    </div>
                    <div class="b-viewport">
                        <div id="website-frame" class="website-frame">
                            </div>
                    </div>
                </div>

                <div class="b-sidebar-right" id="inspector-panel">
                    <div style="padding:15px; font-weight:700; border-bottom:1px solid var(--border);">Inspector</div>
                    <div id="inspector-content" style="padding:15px; color:var(--text-muted); font-size:0.9rem;">
                        Select a block to edit its background, colors, and layout.
                    </div>
                </div>

            </div>
        </div>

    </main>
</div>

<script>
    /* --- DATA STORE --- */
    const State = {
        industry: 'food',
        keyword: '',
        brandName: 'MyBrand',
        blocks: []
    };

    /* --- APP CONTROLLER --- */
    const App = {
        init: () => {
            if(localStorage.getItem('brandForge_v8')) {
                const data = JSON.parse(localStorage.getItem('brandForge_v8'));
                Object.assign(State, data);
                document.getElementById('inp-industry').value = State.industry;
                document.getElementById('inp-keyword').value = State.keyword;
            }
            Modules.Builder.render();
        },
        saveProfile: () => {
            State.industry = document.getElementById('inp-industry').value;
            State.keyword = document.getElementById('inp-keyword').value;
            localStorage.setItem('brandForge_v8', JSON.stringify(State));
            App.route('names');
        },
        route: (id) => {
            document.querySelectorAll('.view').forEach(e => e.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(e => e.classList.remove('active'));
            
            if(id === 'builder') {
                document.getElementById('view-builder').style.display = 'block';
            } else {
                document.getElementById('view-builder').style.display = 'none';
                document.getElementById('view-'+id).classList.add('active');
            }
        }
    };

    /* --- MODULES --- */
    const Modules = {
        
        // 1. SEMANTIC NAMING
        Branding: {
            generate: () => {
                const k = State.keyword.replace(/[^a-zA-Z]/g, '') || "Core";
                const ind = State.industry;
                const vibe = document.getElementById('inp-vibe').value;
                const grid = document.getElementById('name-grid');
                grid.innerHTML = '';

                // SEMANTIC DICTIONARY
                const roots = {
                    food: ['Gusto', 'Savor', 'Culi', 'Nour', 'Vita', 'Bite', 'Hearth', 'Zest'],
                    tech: ['Sys', 'Net', 'Nov', 'Sync', 'Data', 'Link', 'Node', 'Soft'],
                    fashion: ['Vogue', 'Moda', 'Trend', 'Lux', 'Wear', 'Chic', 'Style', 'Aura'],
                    health: ['Vital', 'Zen', 'Pure', 'Heal', 'Life', 'Bio', 'Well', 'Care']
                };
                
                const suffixes = {
                    premium: ['ia', 'us', 'ora', 'ex', 'os', 'lux'],
                    modern: ['ify', 'ly', 'io', 'co', 'lab', 'hub'],
                    friendly: ['pal', 'mate', 'spot', 'joy', 'box', 'hut']
                };

                const chosenRoots = roots[ind] || roots.tech;
                const chosenSuffixes = suffixes[vibe] || suffixes.modern;
                
                let names = [];

                // Algorithm 1: Semantic Root + Suffix
                for(let i=0; i<4; i++) {
                    const r = chosenRoots[Math.floor(Math.random()*chosenRoots.length)];
                    const s = chosenSuffixes[Math.floor(Math.random()*chosenSuffixes.length)];
                    names.push(r + s);
                }

                // Algorithm 2: Keyword + Semantic Adjective
                const adjectives = ind === 'food' ? ['Tasty', 'Fresh', 'Urban', 'Royal'] : ['Smart', 'Pro', 'Neo', 'Hyper'];
                names.push(adjectives[Math.floor(Math.random()*adjectives.length)] + k);

                // Algorithm 3: The "Brandable" Keyword (Keyword + Latin suffix)
                names.push(k + (vibe === 'premium' ? 'ora' : 'ify'));

                names.forEach(n => {
                    const div = document.createElement('div');
                    div.className = 'name-card';
                    div.innerHTML = `<div><div class="name-main">${n}</div><small style="color:#64748b">${n.toLowerCase()}.com</small></div>`;
                    div.onclick = () => {
                        State.brandName = n;
                        document.querySelectorAll('.name-card').forEach(c=>c.classList.remove('selected'));
                        div.classList.add('selected');
                        localStorage.setItem('brandForge_v8', JSON.stringify(State));
                    };
                    grid.appendChild(div);
                });
            }
        },

        // 2. PRO BUILDER
        Builder: {
            selectedId: null,

            add: (type) => {
                const id = 'blk-' + Date.now();
                const block = { id, type, bgType: 'color', bgValue: '#ffffff', color: '#111111', padding: '60px 20px', content: {} };
                
                if(type === 'hero') {
                    block.bgType = 'color';
                    block.bgValue = '#f8fafc';
                    block.content = { h1: 'Welcome to ' + State.brandName, p: 'The best quality products.', btn: 'Get Started' };
                } 
                else if (type === 'features') {
                    block.content = { h2: 'Our Features', items: ['Quality', 'Speed', 'Support'] };
                }
                else if (type === 'gallery') {
                    block.content = { h2: 'Our Gallery' };
                }
                else if (type === 'footer') {
                    block.bgValue = '#1e293b';
                    block.color = '#ffffff';
                    block.content = { text: `© 2026 ${State.brandName}. All rights reserved.` };
                }

                State.blocks.push(block);
                Modules.Builder.render();
            },

            render: () => {
                const frame = document.getElementById('website-frame');
                frame.innerHTML = '';

                State.blocks.forEach(block => {
                    const sec = document.createElement('div');
                    sec.className = 'w-section';
                    sec.id = block.id;
                    if(Modules.Builder.selectedId === block.id) sec.classList.add('selected');

                    // Apply Styles
                    sec.style.color = block.color;
                    sec.style.padding = block.padding;
                    if(block.bgType === 'image') {
                        sec.style.background = `url('${block.bgValue}') center/cover no-repeat`;
                    } else {
                        sec.style.background = block.bgValue;
                    }

                    // Content Logic
                    let html = '';
                    if(block.type === 'hero') {
                        // Hero with background overlay logic
                        html = `
                            <div style="max-width:800px; margin:0 auto; text-align:center;">
                                <h1 contenteditable="true" style="font-size:3rem; margin-bottom:20px;">${block.content.h1}</h1>
                                <p contenteditable="true" style="font-size:1.2rem; opacity:0.9; margin-bottom:30px;">${block.content.p}</p>
                                <button style="padding:15px 30px; background:${State.industry==='food'?'#f59e0b':'#6366f1'}; color:white; border:none; border-radius:6px; font-size:1rem; cursor:pointer;">${block.content.btn}</button>
                            </div>
                        `;
                    }
                    else if(block.type === 'gallery') {
                        html = `
                            <h2 contenteditable="true" style="text-align:center; margin-bottom:40px;">${block.content.h2}</h2>
                            <div style="display:grid; grid-template-columns:repeat(3,1fr); gap:10px;">
                                <div style="height:200px; background:#e2e8f0; display:flex; align-items:center; justify-content:center; color:#64748b; cursor:pointer;" onclick="Modules.Builder.uploadBg(this)">Click to Upload</div>
                                <div style="height:200px; background:#e2e8f0; display:flex; align-items:center; justify-content:center; color:#64748b; cursor:pointer;" onclick="Modules.Builder.uploadBg(this)">Click to Upload</div>
                                <div style="height:200px; background:#e2e8f0; display:flex; align-items:center; justify-content:center; color:#64748b; cursor:pointer;" onclick="Modules.Builder.uploadBg(this)">Click to Upload</div>
                            </div>
                        `;
                    }
                    else if(block.type === 'footer') {
                         html = `<div contenteditable="true" style="text-align:center;">${block.content.text}</div>`;
                    }
                    else {
                        // Generic
                        html = `<div contenteditable="true">Click to edit this content.</div>`;
                    }

                    sec.innerHTML = html;
                    
                    // Handles
                    const h = document.createElement('div');
                    h.className = 'w-handles';
                    h.innerHTML = `
                        <div class="handle-btn" onclick="Modules.Builder.move('${block.id}', -1)">↑</div>
                        <div class="handle-btn" onclick="Modules.Builder.move('${block.id}', 1)">↓</div>
                        <div class="handle-btn" onclick="Modules.Builder.delete('${block.id}')">×</div>
                    `;
                    sec.appendChild(h);

                    // Selection
                    sec.addEventListener('click', (e) => {
                        e.stopPropagation();
                        Modules.Builder.select(block.id);
                    });

                    frame.appendChild(sec);
                });
            },

            select: (id) => {
                Modules.Builder.selectedId = id;
                Modules.Builder.render(); // Redraw selection border

                const block = State.blocks.find(b => b.id === id);
                const panel = document.getElementById('inspector-content');
                
                panel.innerHTML = `
                    <div class="prop-group">
                        <div class="prop-title">Block Settings</div>
                        <label>Block Type: <span style="color:white">${block.type.toUpperCase()}</span></label>
                    </div>

                    <div class="prop-group">
                        <div class="prop-title">Background</div>
                        <label>Color</label>
                        <input type="color" value="${block.bgType === 'color' ? block.bgValue : '#ffffff'}" oninput="Modules.Builder.updateProp('${id}', 'bgValue', this.value); Modules.Builder.updateProp('${id}', 'bgType', 'color')">
                        <br><br>
                        <label>Image</label>
                        <button class="btn" style="width:100%; font-size:0.8rem;" onclick="Modules.Builder.triggerBgUpload('${id}')">Upload Image</button>
                    </div>

                    <div class="prop-group">
                        <div class="prop-title">Typography</div>
                        <label>Text Color</label>
                        <input type="color" value="${block.color}" oninput="Modules.Builder.updateProp('${id}', 'color', this.value)">
                    </div>

                    <div class="prop-group">
                        <div class="prop-title">Layout</div>
                        <label>Padding</label>
                        <select onchange="Modules.Builder.updateProp('${id}', 'padding', this.value)">
                            <option value="40px 20px" ${block.padding === '40px 20px' ? 'selected':''}>Small</option>
                            <option value="60px 20px" ${block.padding === '60px 20px' ? 'selected':''}>Medium</option>
                            <option value="100px 20px" ${block.padding === '100px 20px' ? 'selected':''}>Large (Hero)</option>
                        </select>
                    </div>
                `;
            },

            updateProp: (id, key, val) => {
                const b = State.blocks.find(x => x.id === id);
                if(b) b[key] = val;
                Modules.Builder.render();
            },

            // --- IMAGE LOGIC ---
            triggerBgUpload: (id) => {
                const input = document.getElementById('img-uploader');
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    if(file) {
                        const reader = new FileReader();
                        reader.onload = (evt) => {
                            Modules.Builder.updateProp(id, 'bgType', 'image');
                            Modules.Builder.updateProp(id, 'bgValue', evt.target.result);
                        };
                        reader.readAsDataURL(file);
                    }
                };
                input.click();
            },
            
            uploadBg: (divElement) => {
                const input = document.getElementById('img-uploader');
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    if(file) {
                        const reader = new FileReader();
                        reader.onload = (evt) => {
                            divElement.style.background = `url(${evt.target.result}) center/cover`;
                            divElement.innerText = '';
                        };
                        reader.readAsDataURL(file);
                    }
                };
                input.click();
            },

            move: (id, dir) => {
                const idx = State.blocks.findIndex(b => b.id === id);
                if (dir === -1 && idx > 0) {
                    [State.blocks[idx], State.blocks[idx-1]] = [State.blocks[idx-1], State.blocks[idx]];
                } else if (dir === 1 && idx < State.blocks.length - 1) {
                    [State.blocks[idx], State.blocks[idx+1]] = [State.blocks[idx+1], State.blocks[idx]];
                }
                Modules.Builder.render();
            },

            delete: (id) => {
                State.blocks = State.blocks.filter(b => b.id !== id);
                Modules.Builder.render();
                document.getElementById('inspector-content').innerHTML = 'Select a block...';
            },

            setDevice: (type) => {
                const f = document.getElementById('website-frame');
                f.className = `website-frame ${type}`;
            },

            exportSite: () => {
                const htmlContent = document.getElementById('website-frame').innerHTML;
                const finalHTML = `<!DOCTYPE html><html><head><title>${State.brandName}</title><meta name="viewport" content="width=device-width, initial-scale=1"><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet"><style>body{margin:0;font-family:'Inter',sans-serif;} .w-handles{display:none;} [contenteditable]{outline:none;}</style></head><body>${htmlContent}</body></html>`;
                
                const blob = new Blob([finalHTML], { type: 'text/html' });
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = 'website.html';
                a.click();
            }
        }
    };

    window.onload = App.init;
</script>
</body>
</html>
